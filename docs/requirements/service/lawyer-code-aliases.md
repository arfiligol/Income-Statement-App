# 代碼替換與別名 (Lawyer Code Aliases/Replacements)

為了支援單一律師代碼代表一組律師或特定分配的情況，使用者可以定義「代碼替換規則」(前身為別名)。

## 功能描述

使用者可以定義一個映射，其中 **來源代碼 (Source Code)** 會自動關聯至 **目標代碼清單 (Target Codes)**。

-   **來源代碼 (Source Code)**: 原始或部分代碼 (例如 "KW")。
-   **目標代碼 (Target Codes)**: 實際使用的完整代碼清單 (例如 "KW, JH, JL")。

## 工作流程整合

### 自動填寫律師代碼 (Auto Fill)
當「自動填寫」流程處理一列資料時：
1.  識別出潛在代碼 (例如在摘要中發現 "KW"，或使用者選擇 "KW")。
2.  系統檢查此代碼是否為替換規則資料庫中的「來源代碼」。
3.  **若發現匹配**: 系統會自動將發現的代碼替換為定義的 **目標代碼** 並填入「備註」欄位。
4.  **若無匹配**: 則直接使用原始單一代碼。

### 資料庫操作
在 **資料庫頁面 (Database Page)** 提供了一個新的管理介面：
-   **檢視** 所有定義的替換規則。
-   **新增** 新的替換規則 (來源 -> 目標)。
-   **刪除** 替換規則。

## 資料模型

-   **代碼替換 (Code Replacement)**:
    -   `source_code` (唯一, 主鍵): 例如 "KW"
    -   `target_codes` (文字): 例如 "KW, JH, JL" (儲存為逗號分隔字串)

## 驗證規則
-   `source_code` 必須唯一。
-   `target_codes` 不得為空。
-   建立規則時，若目標代碼不存在於律師資料庫，系統應提示建立。
